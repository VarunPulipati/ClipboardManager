<<<<<<< HEAD
from django.conf import DEFAULT_STORAGE_ALIAS
from django.utils.functional import LazyObject
=======
import warnings

from django.conf import DEFAULT_STORAGE_ALIAS, settings
from django.utils.deprecation import RemovedInDjango51Warning
from django.utils.functional import LazyObject
from django.utils.module_loading import import_string
>>>>>>> ee0aacbff898ec8a7d843c37ced4081a75525d99

from .base import Storage
from .filesystem import FileSystemStorage
from .handler import InvalidStorageError, StorageHandler
from .memory import InMemoryStorage

__all__ = (
    "FileSystemStorage",
    "InMemoryStorage",
    "Storage",
    "DefaultStorage",
    "default_storage",
<<<<<<< HEAD
=======
    "get_storage_class",
>>>>>>> ee0aacbff898ec8a7d843c37ced4081a75525d99
    "InvalidStorageError",
    "StorageHandler",
    "storages",
)

<<<<<<< HEAD
=======
GET_STORAGE_CLASS_DEPRECATED_MSG = (
    "django.core.files.storage.get_storage_class is deprecated in favor of "
    "using django.core.files.storage.storages."
)


def get_storage_class(import_path=None):
    warnings.warn(
        GET_STORAGE_CLASS_DEPRECATED_MSG,
        RemovedInDjango51Warning,
        stacklevel=2,
    )
    return import_string(import_path or settings.DEFAULT_FILE_STORAGE)

>>>>>>> ee0aacbff898ec8a7d843c37ced4081a75525d99

class DefaultStorage(LazyObject):
    def _setup(self):
        self._wrapped = storages[DEFAULT_STORAGE_ALIAS]


storages = StorageHandler()
default_storage = DefaultStorage()
